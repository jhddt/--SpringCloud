server:
  port: 8888

spring:
  application:
    name: gateway-service
  config:
    import: optional:nacos:gateway-service.yml
  data:
    redis:
      host: 192.168.141.128
      port: 6379
      password: 123456
      database: 0
      timeout: 5000
      lettuce:
        pool:
          max-active: 50
          max-idle: 20
          min-idle: 5
          max-wait: 3000
        shutdown-timeout: 100ms
  cloud:
    nacos:
      discovery:
        server-addr: localhost:8848
        namespace: public
        enabled: true
        register-enabled: true
      config:
        server-addr: localhost:8848
        file-extension: yml
        import-check:
          enabled: false
        enabled: false
    gateway:
      httpclient:
        connect-timeout: 10000
        response-timeout: 30s
        pool:
          max-connections: 500
          max-idle-time: 30s
      discovery:
        locator:
          enabled: true
          lower-case-service-id: true
      routes:
        - id: auth-service
          uri: lb://auth-service
          predicates:
            - Path=/api/auth/**
          filters:
            - StripPrefix=1
        - id: user-service
          uri: lb://user-service
          predicates:
            - Path=/api/user/**
          filters:
            - StripPrefix=1
        - id: student-service
          uri: lb://student-service
          predicates:
            - Path=/api/student/**
          filters:
            - StripPrefix=1
        - id: teacher-service
          uri: lb://teacher-service
          predicates:
            - Path=/api/teacher/**
          filters:
            - StripPrefix=1
        - id: course-service
          uri: lb://course-service
          predicates:
            - Path=/api/course/**
          filters:
            - StripPrefix=1
        - id: selection-service
          uri: lb://selection-service
          predicates:
            - Path=/api/selection/**
          filters:
            - StripPrefix=1
        - id: file-service
          uri: lb://file-service
          predicates:
            - Path=/api/file/**
          filters:
            - StripPrefix=1
        - id: message-service
          uri: lb://message-service
          predicates:
            - Path=/api/message/**
          filters:
            - StripPrefix=1
      globalcors:
        cors-configurations:
          '[/**]':
            allowedOriginPatterns: "*"
            allowedMethods: "*"
            allowedHeaders: "*"
            allowCredentials: true
            maxAge: 3600

jwt:
  secret: education-management-secret-key-2024-very-long-secret-key-for-security
  expiration: 86400000

