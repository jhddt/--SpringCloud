version: '3.8'

services:
  nginx-minio:
    image: nginx:alpine
    container_name: nginx-minio
    ports:
      - "9001:9001"  # 方案1：使用 9001 端口
      # - "80:80"    # 方案2：使用 80 端口（取消注释并注释掉 9001）
    volumes:
      - ./nginx-conf:/etc/nginx/conf.d:ro
    networks:
      - minio-network
    restart: unless-stopped
    depends_on:
      - minio

  # 如果需要，可以同时管理 MinIO 容器
  # minio:
  #   image: docker.m.daocloud.io/minio/minio
  #   container_name: minio
  #   ports:
  #     - "9100:9000"
  #     - "9091:9090"
  #   environment:
  #     MINIO_ROOT_USER: minio
  #     MINIO_ROOT_PASSWORD: minio123456
  #   volumes:
  #     - /data/minio:/data
  #   command: server /data --console-address ":9090"
  #   networks:
  #     - minio-network

networks:
  minio-network:
    driver: bridge

